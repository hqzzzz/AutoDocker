server {
  listen       8000;
  server_name  localhost;
  root   /usr/src/sspanel;
  
  location / {
      index index.html index.htm index.php;
      try_files $uri $uri/ /index.php?$query_string;
    }
    
  error_page 404 /index.php;

  location ~* \.php$ {
      fastcgi_pass   127.0.0.1:9000;
      #fastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;
      fastcgi_index  index.php;
      fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
      include        fastcgi_params;
    }
  location ~ /\.(?!well-known).* {
      deny all;
    }
}


server {
  listen       80;
  server_name  localhost;
  root   /var/www/html/public;
  index index.html index.htm index.php;

  location / {
    try_files $uri /index.php$is_args$args;
    }
    
  error_page 404 /index.php;

  location ~* \.php$ {
      fastcgi_pass   127.0.0.1:9000;
      #fastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;
      fastcgi_index  index.php;
      fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
      include        fastcgi_params;
    }
  location ~ /\.(?!well-known).* {
      deny all;
    }
}


# server {
#         listen 80 default_server;
#         listen [::]:80 default_server;

#         # SSL configuration
#         #
#         # listen 443 ssl default_server;
#         # listen [::]:443 ssl default_server;
#         #
#         # Note: You should disable gzip for SSL traffic.
#         # See: https://bugs.debian.org/773332
#         #
#         # Read up on ssl_ciphers to ensure a secure configuration.
#         # See: https://bugs.debian.org/765782
#         #
#         # Self signed certs generated by the ssl-cert package
#         # Don't use them in a production server!
#         #
#         # include snippets/snakeoil.conf;

#         root /var/www/html;

#         # Add index.php to the list if you are using PHP
#         index index.html index.htm index.nginx-debian.html;

#         server_name _;

#         location / {
#                 # First attempt to serve request as file, then
#                 # as directory, then fall back to displaying a 404.
#                 try_files $uri $uri/ =404;
#         }

#         # pass PHP scripts to FastCGI server
#         #
#         #location ~ \.php$ {
#         #       include snippets/fastcgi-php.conf;
#         #
#         #       # With php-fpm (or other unix sockets):
#         #       fastcgi_pass unix:/run/php/php7.4-fpm.sock;
#         #       # With php-cgi (or other tcp sockets):
#         #       fastcgi_pass 127.0.0.1:9000;
#         #}

#         # deny access to .htaccess files, if Apache's document root
#         # concurs with nginx's one
#         #
#         #location ~ /\.ht {
#         #       deny all;
#         #}
# }